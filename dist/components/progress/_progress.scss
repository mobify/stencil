// Progress
// ========
//
// Helps show users where they exist within a multiple-page workflow, such as a
// checkout flow.

// Configurable Variables
// ---

$progress__item-bg-color: hsl(0, 0%, 95%) !default;
$progress__item-padding: if(variable-exists(v-space), $v-space, 10px) !default;
$progress__stage-layer: if(variable-exists(stage-layer), $stage-layer, 10) !default;
$progress__current-bg-color: darken($progress__item-bg-color, 10%) !default;
$progress__completed-bg-color: darken($progress__item-bg-color, 20%) !default;

// Arrow Divider Variables
// 1. These two variables together determine the angle of the arrow dividers

$progress__divider-angle: 90px !default; // 1
$progress__divider-width: 20px !default; // 1
$progress__divider-border-thickness: 2px !default;
$progress__divider-border-color: hsl(360, 100%, 100%) !default;


.c-progress {
    display: flex;

    overflow: hidden;
}


// Progress: Steps
// ---

.c-progress__step-item {
    position: relative; // For the absolutely positioned arrows
    display: block;
    padding: $progress__item-padding;

    background-color: $progress__item-bg-color;

    // Adjust padding to account for the arrows
    &:not(:first-child) {
        padding-left: $progress__divider-width + $progress__item-padding;
        padding-right: 0;
    }

    // Arrows
    &::after,
    &::before {
        content: '';
        display: block;

        position: absolute;
        top: 50%;
        left: 100%;
        z-index: $progress__stage-layer;

        display: block;
        width: 0;
        height: 0;
        transform: translateY(-50%);

        border-top: $progress__divider-angle solid transparent;
        border-bottom: $progress__divider-angle solid transparent;
    }

    // coloured triangle
    &::after {
        border-left: $progress__divider-width solid $progress__item-bg-color;
    }

    // background color spacing
    &::before {
        margin-left: $progress__divider-border-thickness; // offset to create the appearance of a border
        border-left: $progress__divider-width solid $progress__divider-border-color;
    }
}

.c-progress__step-item.c--current {
    background-color: $progress__current-bg-color;

    &::after {
        border-left-color: $progress__current-bg-color;
    }
}

.c-progress__step-item.c--completed {
    background-color: $progress__completed-bg-color;

    &::after {
        border-left-color: $progress__completed-bg-color;
    }
}


// Progress: Index
// ---

.c-progress__index {
}


// Progress: Label
// ---

.c-progress__label {
}


// Progress: Inbetween
// ---

.c-progress__inbetween,
%c-progress__inbetween {
}
